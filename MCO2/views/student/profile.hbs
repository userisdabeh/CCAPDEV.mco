<main>
    <div class="flex-row">
        <div class="info-box">
            <div class="main-info">
                <div class="info-left">
                    <img src="{{user.profilePicture}}" alt="{{user.firstName}} {{user.lastName}}'s Profile Picture" class="img-profile">
                    <div class="info-text">
                        <h3>{{user.firstName}} {{user.lastName}}</h3>
                        <p>{{user.type}}</p>
                    </div>
                </div>
                <i class="bi bi-pencil-square edit-btn" title="Edit Profile"></i>
            </div>
            <div class="account-info">
                <h4>About</h4>
                <p>Email: {{user.email}}</p>
            </div>
            <div class="about-info">
                <h4>Bio</h4>
                <p>{{user.aboutMe}}</p>
            </div>
        </div>
        <div class="reservations-box">
            <h2>My Reservations</h2>
            <div class="table-container">
                <table class="reservations--table">
                    <thead>
                        <tr>
                            <th class="table-header">Seat</th>
                            <th class="table-header">Laboratory Room</th>
                            <th class="table-header">Date</th>
                            <th class="table-header">Time</th>
                            <th class="table-header">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#if reservationCount}}
                            {{#each reservations}}
                                <tr class="reservation-data">
                                    <td>{{this.seat}}</td>
                                    <td>{{this.roomID.roomName}}</td>
                                    <td>{{formatDate this.reservationDate}}</td>
                                    <td>{{formatTime this.startTime}} - {{formatTime this.endTime}}</td>
                                    <td>
                                        <span class="status">
                                            {{#if (eq this.status 'Confirmed')}}
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" class="status-icon"><path d="M382-240 154-468l57-57 171 171 367-367 57 57-424 424Z"></path></svg>
                                                Confirmed
                                            {{else if (eq this.status 'Pending')}}
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" class="status-icon"><path d="M480-520q66 0 113-47t47-113v-120H320v120q0 66 47 113t113 47ZM160-80v-80h80v-120q0-61 28.5-114.5T348-480q-51-32-79.5-85.5T240-680v-120h-80v-80h640v80h-80v120q0 61-28.5 114.5T612-480q51 32 79.5 85.5T720-280v120h80v80H160Z"></path></svg>
                                                Pending
                                            {{else if (eq this.status 'Cancelled')}}
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" class="status-icon"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"></path></svg>
                                                Cancelled
                                            {{else if (eq this.status 'Expired')}}
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" class="status-icon"><path d="m336-280 144-144 144 144 56-56-144-144 144-144-56-56-144 144-144-144-56 56 144 144-144 144 56 56ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"></path></svg>
                                                Expired
                                            {{/if}}
                                        </span>
                                    </td>
                                </tr>
                            {{/each}}
                        {{else}}
                            <tr class="reservation-data">
                                <td colspan="5" class="no-reservations">No reservations found</td>
                            </tr>
                        {{/if}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</main>